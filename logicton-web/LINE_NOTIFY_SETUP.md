# การตั้งค่า LINE Notify (LINE Notify Setup Guide)

## ขั้นตอนการรับ LINE Notify Token

### 1. เข้าสู่เว็บไซต์ LINE Notify
- ไปที่: https://notify-bot.line.me/
- ล็อกอินด้วย LINE account ของคุณ

### 2. สร้าง Token ใหม่
- คลิกที่ "Generate Token" (สร้าง Token ใหม่)
- ใส่ชื่อ Token เช่น: `Logicton Website`
- คลิก "Generate Token" อีกครั้ง

### 3. คัดลอก Token
- คัดลอก Token ที่ได้มา เช่น: `ABcdEF1234567890abcdEF1234567890abcdEF12345678`
- นี่คือ Token ที่จะใช้ในระบบ

## ขั้นตอนการตั้งค่าในโปรเจค

### 1. เปิดไฟล์ `.env.local`
```bash
# ในโฟลเดอร์: logicton-web/.env.local
```

### 2. เพิ่ม LINE Notify Token
```env
LINE_NOTIFY_TOKEN=ABcdEF1234567890abcdEF1234567890abcdEF12345678
```

### 3. รีสตาร์ทำงาน (ถ้าจำเป็นการ)
```bash
# หยุด server กด Ctrl+C แล้วเริ่มต้มใหม่
npm run dev
```

## ขั้นตอนการทดสอบระบบ

### 1. ไปที่หน้าติดต่อ
```
http://localhost:3000/en/contact
```

### 2. กรอกข้อมูลและส่งข้อความ
- ใส่ชื่อ, อีเมล, หัวข้อ, และข้อความ
- คลิก "Send Message"

### 3. ตรวจสอบ LINE
- เปิดแอป LINE บนมือถือ
- ไปที่ LINE Notify > ข้อความ
- คุณจะได้รับข้อความจากฟอร์มติดต่อ!

## รูปแบบข้อความที่จะได้รับ

```
📧 ข้อความใหม่จากฟอร์มติดตอ
─────────────────────────────

ชื่อ: [ชื่อผู้ติดต่อ]
อีเมล: [email@example.com]
โทรศัพท์: [099-xxx-xxxx]
บริษัท: [ชื่อบริษัท]

หัวข้อ: [หัวข้อเรื่อง]

ข้อความ:
[ข้อความที่ผู้ใช้กรอก]

─────────────────────────────
ส่งมาจาก: Logicton Website
[วัน/เวลา/เวลา ที่และเวลา]
```

## การจัดการ Token หากต้องการ

### หากต้องการยกเลิก Token:
1. ไปที่ https://notify-bot.line.me/
2. คลิกที่ "Revoke" บน Token ที่ต้องการยกเลิก
3. สร้าง Token ใหม่

### หากต้องการตรวจสอบ Token:
1. Token จะเริ่มต้นด้วย "LINE_NOTIFY_TOKEN=" ในไฟล์ .env.local
2. ตรวจสอบว่า Token ยังใช้งานได้โดยส่งข้อความทดสอบ

## ปัญหาที่อาจพบ

### ไม่ได้รับข้อความ:
- ตรวจสอบว่าใส่ Token ถูกต้อง
- ตรวจสอบว่า Token ไม่หมดอายุ (อายุ 30 วันถ้าไม่ได้ใช้)
- ตรวจสอบว่า LINE Notify มีสถานะพร้อมใช้งาน

### ข้อความไม่แสดงใน LINE:
- ตรวจสอบว่าเลือก Group หรือ Personal Chat ให้ถูกต้อง
- ลองออกครั้งหลัง 1-2 นาที (LINE อาจใช้เวลาในการแสดงผล)

## ตัวเลือกอื่นๆ (ถ้าต้องการ)

### หากต้องการส่งไป Gmail แทน:
- แก้ไข `type: 'line'` เป็น `type: 'email'` ใน contact route
- และใส่อีเมลจริงในส่วนที่เหมาะ

### หากต้องการส่งทั้ง Email และ LINE:
- เรียกใช้ฟังก์ชันทั้ง `sendNotification()` สำหรับ email และ line
